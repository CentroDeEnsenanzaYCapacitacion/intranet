document.addEventListener("DOMContentLoaded",()=>{blockModal=new bootstrap.Modal(document.getElementById("blockUserModal"),{keyboard:!1,backdrop:"static"});var o=document.querySelectorAll(".blockButton");o.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();var t=e.getAttribute("data-user-id");document.getElementById("confirmBlockButton").setAttribute("data-user-id",t),blockModal.show()})}),document.getElementById("confirmBlockButton").addEventListener("click",function(){var e=this;e.innerHTML='Bloqueando... <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>',e.disabled=!0;var n=this.getAttribute("data-user-id")||null,t=new XMLHttpRequest;t.open("POST","../../msrvs/users/blockUser.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&(this.status===200?(blockModal.hide(),window.location.reload()):(e.innerHTML="Error. Intentar de nuevo",e.disabled=!1))},t.send("userId="+encodeURIComponent(n))})});
