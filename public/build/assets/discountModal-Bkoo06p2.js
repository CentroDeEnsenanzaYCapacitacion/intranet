document.addEventListener("DOMContentLoaded",()=>{editModal=new bootstrap.Modal(document.getElementById("editModal"),{keyboard:!1,backdrop:"static"});var n=document.querySelectorAll(".openModalButton");n.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var o=e.getAttribute("data-user-name"),a=e.getAttribute("data-user-id");document.getElementById("modalTextarea").value=o,document.getElementById("saveChangesButton").setAttribute("data-user-id",a),editModal.show()})}),confirmModal=new bootstrap.Modal(document.getElementById("confirmModal"),{keyboard:!1,backdrop:"static"});var n=document.querySelectorAll(".askButton");n.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var o=e.getAttribute("data-report-id");document.getElementById("modalConfirmButton").setAttribute("data-report-id",o),confirmModal.show()})}),document.getElementById("saveChangesButton").addEventListener("click",function(){var e=document.getElementById("modalTextarea").value,t=this.getAttribute("data-user-id"),o=new XMLHttpRequest;o.open("POST","../../msrvs/users/updateUser.php",!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&this.status===200&&(console.log(this.responseText),editModal.hide(),window.location.reload())},o.send("userId="+encodeURIComponent(t)+"&userName="+encodeURIComponent(e))}),document.getElementById("modalConfirmButton").addEventListener("click",function(){var e=this.getAttribute("data-report-id"),t=new XMLHttpRequest;t.open("POST","../../msrvs/users/deleteUser.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&this.status===200&&(console.log(this.responseText),deleteModal.hide(),window.location.reload())},t.send("userId="+encodeURIComponent(e))})});
